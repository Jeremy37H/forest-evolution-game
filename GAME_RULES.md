# 豬喵大亂鬥 - 遊戲規則

## 基本介紹

豬喵大亂鬥是一款結合了策略、運氣與心理博弈的多人對戰遊戲。玩家扮演不同屬性的角色，透過攻擊、技能與競標來強化自己，目標是成為最後存活的強者（或雖然遊戲結束時血量最高者）。

## 角色與屬性

遊戲中有四種基本屬性，彼此之間存在相剋關係：

* **屬性列表**：
  * **木 (Wood)** 🌳
  * **水 (Water)** 💧
  * **火 (Fire)** 🔥
  * **雷 (Thunder)** ⚡️ (當人數無法被 3 整除時，多餘的名額會分配給雷)

* **相剋規則**：
  * **木** 剋 **水**
  * **水** 剋 **火**
  * **火** 剋 **木**
  * **雷** 屬性特殊規則：
    * 雷打雷 = 屬性相同，比較等級 (等級高者勝)
    * 雷打其他屬性 = 成功 (必中)
    * 其他屬性打雷 = 成功 (必中)
    * (簡單來說，雷屬性除了內戰看等級外，打人必中，被打也必中)

* **死亡與淘汰 (KO System)**：
  * 當玩家 HP 歸零或以下時，將被判定為「**倒下 (Down)**」。
  * 倒下的玩家無法發動攻擊，也無法被其他玩家選為攻擊目標。
  * 死亡畫面上提供「離開/重新開始」按鈕供玩家快速重登。

* **攻擊判定**：
  * 若屬性相剋 (如木打水)：**攻擊成功** (無視等級)
  * 若屬性被剋 (如木打火)：**攻擊失敗**
  * 若屬性相同 (如木打木)：**比較等級** (等級高者勝，同等級則攻擊失敗)

## 數值與升級

* **初始狀態 (Level 0)**：
  * HP: 28 (8人以下) / 32 (9人以上)
  * 攻擊力: 0
  * 防禦力: 0
* **等級上限**：Level 3
* **升級消耗**：
  * Lv0 -> Lv1: 需 3 HP (總血量需 > 28+3)
  * Lv1 -> Lv2: 需 5 HP
  * Lv2 -> Lv3: 需 7 HP
* **等級素質**：
  * Lv1: 攻擊 2 / 防禦 0
  * Lv2: 攻擊 4 / 防禦 2
  * Lv3: 攻擊 5 / 防禦 4

## 遊戲流程

遊戲分為多個回合，每個回合包含不同階段：

### 1. 自由討論階段 (Discussion Phase)

* 所有玩家可以查看場上資訊。
* 可以使用特定技能 (如：劇毒、寄生、獅子王、瞪人、冬眠)。
* **屬性偵查**：每回合可花 **1 HP** 查看任一玩家屬性 (限2次)。
* **注意**：技能一經使用即生效，部分技能為一次性。

### 2. 攻擊階段 (Attack Phase)

* 每位玩家在每回合可以攻擊一次。
* 選擇目標進行攻擊，系統將根據屬性與等級判定結果。
* **傷害計算公式**：
  * 傷害 = `Max(1, 攻擊方攻擊力 + 回合加成 - 防禦方防禦力)`
* **回合傷害加成**：
  * 第1回合: +3
  * 第2回合: +4
  * 第3回合: +5
  * 第4回合: +7
* **反擊限制**：
  * **前三回合保護**：每位玩家每回合**只能被攻擊一次** (不可重複集火)。
  * **無法攻擊本回合已經攻擊過您的玩家**。
  * 這意味著若 A 玩家先攻擊了 B 玩家，B 玩家在該回合將無法反擊 A 玩家 (但可以攻擊其他人)。
  * 這提高了「先攻」的戰術價值，也鼓勵玩家預判對手的攻擊對象。

### 3. 系統輔助功能

* **屬性猜測筆記 (Notes)**：
  * 在玩家列表名稱旁有個「?」小標籤，點擊可快速標註猜測的屬性。
  * 筆記僅供自己參考，對手看不見，且會儲存在瀏覽器中（重新整理也不會消失）。

### 4. 競標階段 (Auction Phase)

* 特定回合結束後會進入競標技能階段。
* 玩家使用 HP 進行出價 (Blind Bid)。
* 價高者得，若得標會扣除相應 HP 並獲得技能。
* **競標規則更新**：
  * **保留血量**：投標後 HP 必須保留至少 5 點，否則無法出價。
  * **重複加價**：若您對同一技能重複出價，系統會將您「原本對該技能的投入」加回可用預算中。
    * 例如：您有 10 HP (可用 5 HP)。原本對 A 出價 2 HP (剩 3 HP)。
    * 您想對 A 改出 4 HP -> 系統判定：3 (剩餘) + 2 (原出價) = 5 >= 4 -> **成功**。
    * 您想對 B 出價 4 HP -> 系統判定：3 (剩餘) + 0 (未出價) = 3 < 4 -> **失敗**。

## 技能圖鑑

技能分為不同回合解鎖，效果如下：

### 第一回合技能

* **基因改造** [被動]：升級進化所需要的血量減少 1 點。
* **適者生存** [被動]：攻擊成功後，增加 2 攻擊。
* **尖刺** [被動]：被攻擊損失 HP 時，反彈一半傷害給對方。
* **劇毒** [主動/討論階段]：每一回合可指定一位玩家扣除 2 點 HP。
* **荷魯斯之眼** [主動/無限]：每回合可查看一位玩家的血量。

### 第二回合技能

* **兩棲** [被動]：攻擊與自身不同的屬性都會勝利，反之。
* **擬態** [主動/一次性/討論階段]：指定一位玩家，將自身屬性變成與對方相同。
* **寄生** [主動/一次性/討論階段]：指定一位玩家，將自己的血量變更為對方的血量。
* **森林權杖** [主動/一次性/討論階段]：指定一個屬性，該屬性的所有玩家扣除 2 點 HP (不限等級)。
* **嗜血** [被動]：攻擊對方成功時，自身恢復 2 點 HP。
* **龜甲** [被動]：獲得此技能時，防禦力永久 +3。

### 第三回合技能

* **獅子王** [主動/討論階段]：指定一位手下幫你攻擊以及坦傷害。
  * **限制**：身為主人不可攻擊自己的手下。
  * **決賽圈**：當場上僅剩 2 人存活時，獅子王無法再指定手下。
* **瞪人** [主動/討論階段]：指定兩位玩家，被指定者該回合無法攻擊你。
* **斷尾** [被動]：當遭受攻擊成功判定且造成傷害時，自己扣 2 點 HP 並躲過該次攻擊的所有傷害 (若對方攻擊失敗或無傷害則不觸發)。
* **冬眠** [主動/討論階段]：該回合進入冬眠，無法攻擊也無法被攻擊 (無敵狀態)。
* **禿鷹** [被動]：當場上有玩家死亡時，自己恢復 3 點 HP。

## 勝利條件

* 戰鬥至最後一人存活。
* 遊戲強制結束時，剩餘血量 (HP) 最高者獲勝。
* **同分規則**：若多位玩家血量相同，則獲得相同名次 (例如兩位最高血量並列第一)。
